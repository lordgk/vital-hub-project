
{% extends 'base.html' %}

{% block title %}Settings - VitalHub HMS{% endblock %}

{% block header %}Settings{% endblock %}

{% block content %}
<div class="row">
    <div class="col-lg-3">
        <div class="card mb-4">
            <div class="list-group list-group-flush">
                <a href="#general" class="list-group-item list-group-item-action active" data-bs-toggle="list">General Settings</a>
                <a href="#account" class="list-group-item list-group-item-action" data-bs-toggle="list">User Account</a>
                <a href="#notifications" class="list-group-item list-group-item-action" data-bs-toggle="list">Notifications</a>
                <a href="#security" class="list-group-item list-group-item-action" data-bs-toggle="list">Security</a>
                <a href="#backup" class="list-group-item list-group-item-action" data-bs-toggle="list">Backup & Restore</a>
            </div>
        </div>
    </div>
    
    <div class="col-lg-9">
        <div class="tab-content">
            <div class="tab-pane fade show active" id="general">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">General Settings</h5>
                    </div>
                    <div class="card-body">
                        <form id="generalSettingsForm">
                            <div class="mb-3">
                                <label for="hospitalName" class="form-label">Hospital Name</label>
                                <input type="text" class="form-control" id="hospitalName" value="VitalHub General Hospital">
                            </div>
                            
                            <div class="mb-3">
                                <label for="hospitalAddress" class="form-label">Hospital Address</label>
                                <textarea class="form-control" id="hospitalAddress" rows="2">123 Medical Drive, Healthcare City, HC 12345</textarea>
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="contactPhone" class="form-label">Contact Phone</label>
                                    <input type="tel" class="form-control" id="contactPhone" value="(555) 123-4567">
                                </div>
                                <div class="col-md-6">
                                    <label for="contactEmail" class="form-label">Contact Email</label>
                                    <input type="email" class="form-control" id="contactEmail" value="info@vitalhub.com">
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="timezone" class="form-label">Timezone</label>
                                <select class="form-select" id="timezone">
                                    <option value="EST" selected>Eastern Standard Time (EST)</option>
                                    <option value="CST">Central Standard Time (CST)</option>
                                    <option value="MST">Mountain Standard Time (MST)</option>
                                    <option value="PST">Pacific Standard Time (PST)</option>
                                </select>
                            </div>
                            
                            <div class="mb-3">
                                <label for="dateFormat" class="form-label">Date Format</label>
                                <select class="form-select" id="dateFormat">
                                    <option value="MM/DD/YYYY" selected>MM/DD/YYYY</option>
                                    <option value="DD/MM/YYYY">DD/MM/YYYY</option>
                                    <option value="YYYY-MM-DD">YYYY-MM-DD</option>
                                </select>
                            </div>
                            
                            <hr class="my-4">
                            
                            <h6>System Preferences</h6>
                            
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="autoLogout" checked>
                                <label class="form-check-label" for="autoLogout">Auto-logout after 30 minutes of inactivity</label>
                            </div>
                            
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="emailNotifications" checked>
                                <label class="form-check-label" for="emailNotifications">Send email notifications</label>
                            </div>
                            
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="smsNotifications">
                                <label class="form-check-label" for="smsNotifications">Send SMS notifications</label>
                            </div>
                            
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button type="reset" class="btn btn-light me-md-2">Reset</button>
                                <button type="button" id="saveGeneralSettings" class="btn btn-primary">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="tab-pane fade" id="account">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">User Account Settings</h5>
                    </div>
                    <div class="card-body">
                        <form id="accountSettingsForm">
                            <div class="mb-4 text-center">
                                <img src="https://via.placeholder.com/100" class="rounded-circle" alt="Profile Picture">
                                <div class="mt-2">
                                    <button type="button" class="btn btn-sm btn-outline-secondary">Change Photo</button>
                                </div>
                            </div>
                            
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label for="firstName" class="form-label">First Name</label>
                                    <input type="text" class="form-control" id="firstName" value="Admin">
                                </div>
                                <div class="col-md-6">
                                    <label for="lastName" class="form-label">Last Name</label>
                                    <input type="text" class="form-control" id="lastName" value="User">
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <label for="userEmail" class="form-label">Email</label>
                                <input type="email" class="form-control" id="userEmail" value="admin@vitalhub.com">
                            </div>
                            
                            <div class="mb-3">
                                <label for="userRole" class="form-label">Role</label>
                                <input type="text" class="form-control" id="userRole" value="Administrator" readonly>
                            </div>
                            
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button type="button" id="saveAccountSettings" class="btn btn-primary">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="tab-pane fade" id="notifications">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Notification Settings</h5>
                    </div>
                    <div class="card-body">
                        <form id="notificationSettingsForm">
                            <div class="mb-3">
                                <h6>Email Notifications</h6>
                                
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="emailAppointments" checked>
                                    <label class="form-check-label" for="emailAppointments">
                                        Appointment Reminders
                                    </label>
                                </div>
                                
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="emailPatients" checked>
                                    <label class="form-check-label" for="emailPatients">
                                        New Patient Registrations
                                    </label>
                                </div>
                                
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="emailReports">
                                    <label class="form-check-label" for="emailReports">
                                        Daily Reports
                                    </label>
                                </div>
                            </div>
                            
                            <div class="mb-3">
                                <h6>SMS Notifications</h6>
                                
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="smsAppointments">
                                    <label class="form-check-label" for="smsAppointments">
                                        Appointment Reminders
                                    </label>
                                </div>
                                
                                <div class="form-check mb-2">
                                    <input class="form-check-input" type="checkbox" id="smsEmergencies" checked>
                                    <label class="form-check-label" for="smsEmergencies">
                                        Emergency Notifications
                                    </label>
                                </div>
                            </div>
                            
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button type="button" id="saveNotificationSettings" class="btn btn-primary">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="tab-pane fade" id="security">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Security Settings</h5>
                    </div>
                    <div class="card-body">
                        <form id="securitySettingsForm">
                            <div class="mb-4">
                                <h6>Change Password</h6>
                                <div class="mb-3">
                                    <label for="currentPassword" class="form-label">Current Password</label>
                                    <input type="password" class="form-control" id="currentPassword">
                                </div>
                                <div class="mb-3">
                                    <label for="newPassword" class="form-label">New Password</label>
                                    <input type="password" class="form-control" id="newPassword">
                                </div>
                                <div class="mb-3">
                                    <label for="confirmPassword" class="form-label">Confirm New Password</label>
                                    <input type="password" class="form-control" id="confirmPassword">
                                </div>
                            </div>
                            
                            <div class="mb-4">
                                <h6>Two-Factor Authentication</h6>
                                <div class="form-check form-switch mb-2">
                                    <input class="form-check-input" type="checkbox" id="twoFactorAuth">
                                    <label class="form-check-label" for="twoFactorAuth">
                                        Enable Two-Factor Authentication
                                    </label>
                                </div>
                                <small class="text-muted">Enhance your account security by requiring an additional verification code at login.</small>
                            </div>
                            
                            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                                <button type="button" id="saveSecuritySettings" class="btn btn-primary">Save Changes</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="tab-pane fade" id="backup">
                <div class="card">
                    <div class="card-header">
                        <h5 class="card-title mb-0">Backup & Restore</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-4">
                            <h6>Create Backup</h6>
                            <p class="text-muted">Create a backup of all system data including patient records and appointments.</p>
                            <button type="button" id="createBackup" class="btn btn-primary">Create Backup</button>
                        </div>
                        
                        <hr class="my-4">
                        
                        <div class="mb-4">
                            <h6>Restore from Backup</h6>
                            <p class="text-muted">Restore system data from a previous backup file.</p>
                            <div class="mb-3">
                                <input class="form-control" type="file" id="backupFile">
                            </div>
                            <button type="button" id="restoreBackup" class="btn btn-warning">Restore</button>
                        </div>
                        
                        <hr class="my-4">
                        
                        <div>
                            <h6>Backup History</h6>
                            <div class="table-responsive">
                                <table class="table table-sm">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Size</th>
                                            <th>Status</th>
                                            <th>Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>2023-07-15</td>
                                            <td>4.2 MB</td>
                                            <td><span class="badge bg-success">Complete</span></td>
                                            <td>
                                                <button class="btn btn-sm btn-outline-secondary">Download</button>
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>2023-07-01</td>
                                            <td>4.0 MB</td>
                                            <td><span class="badge bg-success">Complete</span></td>
                                            <td>
                                                <button class="btn btn-sm btn-outline-secondary">Download</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Save settings functionality
        const saveButtons = [
            document.getElementById('saveGeneralSettings'),
            document.getElementById('saveAccountSettings'),
            document.getElementById('saveNotificationSettings'),
            document.getElementById('saveSecuritySettings')
        ];
        
        saveButtons.forEach(button => {
            if (button) {
                button.addEventListener('click', function() {
                    // In a real application, this would save to the server
                    // For demo purposes, we'll just show an alert
                    alert('Settings saved successfully!');
                });
            }
        });
        
        // Create backup functionality
        const createBackupBtn = document.getElementById('createBackup');
        if (createBackupBtn) {
            createBackupBtn.addEventListener('click', function() {
                alert('Backup created successfully!');
            });
        }
        
        // Restore backup functionality
        const restoreBackupBtn = document.getElementById('restoreBackup');
        if (restoreBackupBtn) {
            restoreBackupBtn.addEventListener('click', function() {
                const fileInput = document.getElementById('backupFile');
                if (fileInput.files.length === 0) {
                    alert('Please select a backup file to restore.');
                } else {
                    alert('Restoration process started. This may take a few minutes.');
                }
            });
        }
    });
</script>
{% endblock %}
